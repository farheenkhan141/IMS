<!DOCTYPE html>

<html>
<title>IMS</title>

<head>

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
    integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="../assets/css/style.css">
</head>



  <div>
    <img src="../assets/images/bg.jpeg">

    <%- include ('layouts/header.ejs') -%>
      <%- include ('layouts/nav.ejs') -%>

<center>
    <div class="container2 ">
        <h4 class="text-center ">Add Subject</h4>
        <form class="form-card" action="/ims/addsubject" method="post" name="form" onsubmit="return validateForm()">

           
            <div class="row justify-content-center">
                <div class="form-group col-md-6"> <label class="form-control-label ">Subject Name <span class="text-danger"> *</span></label>&nbsp; <input type="text" id="name" name="name" placeholder="Enter Subject Name" onblur="validate(1)"> </div>
                </div>
            
                <div class="row justify-content-center">
                    <div class="form-group col-md-6"> <label class="form-control-label ">Subject Code <span class="text-danger"> *</span></label>&nbsp; <input type="text" id="subjectCode" name="subjectCode" placeholder="Enter Subject Code" onblur="validate(2)"> </div>
                    </div>
            

            <div class="row justify-content-center">
                <div class="form-group col-sm-6 "> 
                  <label for="branch">Select Branch</label>
                  <select class="custom-select" name="branch" id="branch" onblur="validate(3)">
                    <option selected value="...">...</option>
                    <option value="IT">IT</option>
                    <option value="Computer">Computer</option>
                    <option value="Electrical">Electrical</option>
                    <option value="Mechanical">Mechanical</option>
                  </select> </div>
            </div>
            <div class="row justify-content-center">
                <div class="form-group col-sm-3 ">
                  <label for="branch">Select Year</label>
                   <select class="custom-select" name="year" id="year" onblur="validate(4)">
                    
                  <option selected>...</option>
                 
                  </select> </div>
                  <div class="form-group col-sm-3 "> 
                    <label for="branch">Select Sem</label>
                    <select class="custom-select" name="sem" id="sem" onblur="validate(5)">
                    <option selected>...</option>
                    
                  </select> </div>
            </div>

            
            
            
       
            <div class="row justify-content-center">
                <div class="form-group col-sm-3"> <button type="submit" class="btn-block btn-primary ">Add Subject&nbsp;&nbsp;<i class="fa fa-database "></i></button> </div>
            </div>
        </form>
    </div>
    </center>
  </div>

   <script type="text/javascript">
    var subjectObject = {
      1: {
        1:1,
        2:2
        },
      2: {
        3:3,
        4:4
        },
      3: {
        5:5,
        6:6
        },
        4: {
        7:7,
        8:8
        }
    }
    window.onload = function() {
      var subjectSel = document.getElementById("year");
      var topicSel = document.getElementById("sem");
     
      for (var x in subjectObject) {
    subjectSel.options[subjectSel.options.length] = new Option(x, x);
  }
  subjectSel.onchange = function() {
    //empty Chapters- and Topics- dropdowns
    topicSel.length = 1;
    //display correct values
    for (var y in subjectObject[this.value]) {
      topicSel.options[topicSel.options.length] = new Option(y, y);
    }
  }
    }
    
    
  
    function validate(val) {
    v1 = document.getElementById("name");
    v2 = document.getElementById("subjectCode");
    v3 = document.getElementById("branch");
    v4 = document.getElementById("year");
    v5 = document.getElementById("sem");
 
    
    
    flag1 = true;
    flag2 = true;
    flag3 = true;
    flag4 = true;
    flag5 = true;
    
    
    if(val==1 || val==0) {
    if(v1.value == "") {
    v1.style.borderColor = "red";
    flag1 = false;
    }
    else {
    v1.style.borderColor = "green";
    flag1 = true;
    }
    }
    
    if(val==2 || val==0) {
    if(v2.value == "") {
    v2.style.borderColor = "red";
    flag2 = false;
    }
    else {
    v2.style.borderColor = "green";
    flag2 = true;
    }
    }
    
    if(val==3 || val==0) {
    if(v3.value == "...") {
    v3.style.borderColor = "red";
    flag3= false;
    }
    else {
    v3.style.borderColor = "green";
    flag3 = true;
    }
    }
    

    if(val==4 || val==0) {
    if(v4.value == "...") {
    v4.style.borderColor = "red";
    flag4= false;
    }
    else {
    v4.style.borderColor = "green";
    flag4 = true;
    }
    }

    if(val==5 || val==0) {
    if(v5.value == "...") {
    v5.style.borderColor = "red";
    flag5= false;
    }
    else {
    v5.style.borderColor = "green";
    flag5= true;
    }
    }

    
    
    
    flag = flag1 && flag2 && flag3  && flag4 && flag5   ;
    
    return flag;
    }
    
    function validateForm(){
        let x = document.forms["form"]["branch"].value;
       
      if ((document.forms["form"]["branch"].value == "...")||(document.forms["form"]["year"].value == "...")
            ||(document.forms["form"]["sem"].value == "...")||(document.forms["form"]["name"].value == "")
                ||(document.forms["form"]["subjectCode"].value == "")) {
        alert("All Data Must be Filled Out");
        
        return false;
      }
    
      
    }
</script>  


  </html>
